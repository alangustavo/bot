<?php

namespace Test\App\extensions;

use App\extensions\BotException;
use App\extensions\Exchange;
use PHPUnit\Framework\TestCase;

/**
 * Generated by PHPUnit_SkeletonGenerator on 2022-09-01 at 18:49:42.
 */
class ExchangeTest extends TestCase {

    public function testBinanceAsValidExchange() {
        $exchange = new Exchange("binance");
        $this->assertEquals("ccxt\\binance", get_class($exchange->getExchange()));
    }

    public function testKrakenAsValidExchange() {
        $exchange = new Exchange("kraken");
        $this->assertEquals("ccxt\\kraken", get_class($exchange->getExchange()));
    }

    public function testInvalidExchante() {
        $this->expectException(BotException::class);
        new Exchange("inexistent");
    }

    public function testDefaultExchange() {
        $_ENV["EXCHANGE"] = "binance";
        $exchange         = new Exchange();
        $this->assertEquals("ccxt\\binance", get_class($exchange->getExchange()));
    }

}
